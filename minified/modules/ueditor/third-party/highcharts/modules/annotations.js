!function(a,b){function c(a){var b,c;return c={xAxis:0,yAxis:0,title:{style:{},text:"",x:0,y:0},shape:{params:{stroke:"#000000",fill:"transparent",strokeWidth:2}}},b={circle:{params:{x:0,y:0}}},b[a]&&(c.shape=o(c.shape,b[a])),c}function d(a){return"[object Array]"===Object.prototype.toString.call(a)}function e(a){return"number"==typeof a}function f(a){return a!==h&&null!==a}function g(a,b,c,d,e){for(var f=a.length,g=0;g<f;)"number"==typeof a[g]&&"number"==typeof a[g+1]?(a[g]=b.toPixels(a[g])-d,a[g+1]=c.toPixels(a[g+1])-e,g+=2):g+=1;return a}var h,i,j,k=a.Chart,l=a.extend,m=a.each;j=["path","rect","circle"],i={top:0,left:0,center:.5,middle:.5,bottom:1,right:1};var n=b.inArray,o=a.merge,p=function(){this.init.apply(this,arguments)};p.prototype={init:function(a,b){var d=b.shape&&b.shape.type;this.chart=a,this.options=o({},c(d),b)},render:function(a){var b=this,c=this.chart,d=b.chart.renderer,e=b.group,f=b.title,g=b.shape,h=b.options,i=h.title,k=h.shape;e||(e=b.group=d.g()),!g&&k&&-1!==n(k.type,j)&&(g=b.shape=d[h.shape.type](k.params),g.add(e)),!f&&i&&(f=b.title=d.label(i),f.add(e)),e.add(c.annotations.group),b.linkObjects(),!1!==a&&b.redraw()},redraw:function(){var b,c,d,h,j,k,m,o=this.options,p=this.chart,q=this.group,r=this.title,s=this.shape,t=this.linkedObject,u=p.xAxis[o.xAxis],v=p.yAxis[o.yAxis],w=o.width,x=o.height,y=i[o.anchorY],z=i[o.anchorX];if(t&&(c=t instanceof a.Point?"point":t instanceof a.Series?"series":null,"point"===c?(o.xValue=t.x,o.yValue=t.y,d=t.series):"series"===c&&(d=t),q.visibility!==d.group.visibility&&q.attr({visibility:d.group.visibility})),k=f(o.xValue)?u.toPixels(o.xValue+u.minPointOffset)-u.minPixelPadding:o.x,m=f(o.yValue)?v.toPixels(o.yValue):o.y,!isNaN(k)&&!isNaN(m)&&e(k)&&e(m)){if(r&&(r.attr(o.title),r.css(o.title.style),!0),s){if(b=l({},o.shape.params),"values"===o.units){for(h in b)n(h,["width","x"])>-1?b[h]=u.translate(b[h]):n(h,["height","y"])>-1&&(b[h]=v.translate(b[h]));b.width&&(b.width-=u.toPixels(0)-u.left),b.x&&(b.x+=u.minPixelPadding),"path"===o.shape.type&&g(b.d,u,v,k,m)}"circle"===o.shape.type&&(b.x+=b.r,b.y+=b.r),!0,s.attr(b)}q.bBox=null,e(w)||(j=q.getBBox(),w=j.width),e(x)||(j||(j=q.getBBox()),x=j.height),e(z)||(z=i.center),e(y)||(y=i.center),k-=w*z,m-=x*y,p.animation&&f(q.translateX)&&f(q.translateY)?q.animate({translateX:k,translateY:m}):q.translate(k,m)}},destroy:function(){var a=this,b=this.chart,c=b.annotations.allItems,d=c.indexOf(a);d>-1&&c.splice(d,1),m(["title","shape","group"],function(b){a[b]&&(a[b].destroy(),a[b]=null)}),a.group=a.title=a.shape=a.chart=a.options=null},update:function(a,b){l(this.options,a),this.linkObjects(),this.render(b)},linkObjects:function(){var a=this,b=a.chart,c=a.linkedObject,d=c&&(c.id||c.options.id),e=a.options,g=e.linkedTo;f(g)?f(c)&&g===d||(a.linkedObject=b.get(g)):a.linkedObject=null}},l(k.prototype,{annotations:{add:function(a,b){var c,e,f=this.allItems,g=this.chart;for(d(a)||(a=[a]),e=a.length;e--;)c=new p(g,a[e]),f.push(c),c.render(b)},redraw:function(){m(this.allItems,function(a){a.redraw()})}}}),k.prototype.callbacks.push(function(b){var c,e=b.options.annotations;c=b.renderer.g("annotations"),c.attr({zIndex:7}),c.add(),b.annotations.allItems=[],b.annotations.chart=b,b.annotations.group=c,d(e)&&e.length>0&&b.annotations.add(b.options.annotations),a.addEvent(b,"redraw",function(){b.annotations.redraw()})})}(Highcharts,HighchartsAdapter);